<html>
<head>
	<style>
		table, td {
		border: 1px solid black;
		width 10px;
		}
	</style>
</head>
<body>
	<table>
	<tr>
	<td><canvas width = "64" height="64" id="Black"name="0" onmouseover="showName(0)"></td>
	<td><canvas width = "64" height="64" id="White"name="1"onmouseover="showName(1)"></td>
    <td><canvas width = "64" height="64" id="Black"name="2"onmouseover="showName(2)"></td>
	<td><canvas width = "64" height="64" id="White"name="3"onmouseover="showName(3)"></td>
	<td><canvas width = "64" height="64" id="Black"name="4"onmouseover="showName(4)"></td>
	<td><canvas width = "64" height="64" id="White"name="5"onmouseover="showName(5)"></td>
    <td><canvas width = "64" height="64" id="Black"name="6"onmouseover="showName(6)"></td>
	<td><canvas width = "64" height="64" id="White"name="7"onmouseover="showName(7)"></td>
	<td><canvas width = "64" height="64" id="Black"name="8"onmouseover="showName(8)"></td>
	<td><canvas width = "64" height="64" id="White"name="9"onmouseover="showName(9)"></td>
  </tr>
    <tr>
    <td><canvas width = "64" height="64" id="White"name="10"onmouseover="showName(10)"></td>
	<td><canvas width = "64" height="64" id="Black"name="11"onmouseover="showName(11)"></td>
    <td><canvas width = "64" height="64" id="White"name="12"onmouseover="showName(12)"></td>
	<td><canvas width = "64" height="64" id="Black"name="13"onmouseover="showName(13)"></td>
	<td><canvas width = "64" height="64" id="White"name="14"onmouseover="showName(14)"></td>
	<td><canvas width = "64" height="64" id="Black"name="15"onmouseover="showName(15)"></td>
    <td><canvas width = "64" height="64" id="White"name="16"onmouseover="showName(16)"></td>
	<td><canvas width = "64" height="64" id="Black"name="17"onmouseover="showName(17)"></td>
	<td><canvas width = "64" height="64" id="White"name="18"onmouseover="showName(18)"></td>
	<td><canvas width = "64" height="64" id="Black"name="19"onmouseover="showName(19)"></td>
  </tr>
    <tr>
	<td><canvas width = "64" height="64" id="Black"name="20"onmouseover="showName(20)"></td>
	<td><canvas width = "64" height="64" id="White"name="21"onmouseover="showName(21)"></td>
    <td><canvas width = "64" height="64" id="Black"name="22"onmouseover="showName(22)"></td>
	<td><canvas width = "64" height="64" id="White"name="23"onmouseover="showName(23)"></td>
	<td><canvas width = "64" height="64" id="Black"name="24"onmouseover="showName(24)"></td>
	<td><canvas width = "64" height="64" id="White"name="25"onmouseover="showName(25)"></td>
    <td><canvas width = "64" height="64" id="Black"name="26"onmouseover="showName(26)"></td>
	<td><canvas width = "64" height="64" id="White"name="27"onmouseover="showName(27)"></td>
	<td><canvas width = "64" height="64" id="Black"name="28"onmouseover="showName(28)"></td>
	<td><canvas width = "64" height="64" id="White"name="29"onmouseover="showName(29)"></td>
  </tr>
    <tr>
    <td><canvas width = "64" height="64" id="White"name="30"onmouseover="showName(30)"></td>
	<td><canvas width = "64" height="64" id="Black"name="31"onmouseover="showName(31)"></td>
    <td><canvas width = "64" height="64" id="White"name="32"onmouseover="showName(32)"></td>
	<td><canvas width = "64" height="64" id="Black"name="33"onmouseover="showName(33)"></td>
	<td><canvas width = "64" height="64" id="White"name="34"onmouseover="showName(34)"></td>
	<td><canvas width = "64" height="64" id="Black"name="35"onmouseover="showName(35)"></td>
    <td><canvas width = "64" height="64" id="White"name="36"onmouseover="showName(36)"></td>
	<td><canvas width = "64" height="64" id="Black"name="37"onmouseover="showName(37)"></td>
	<td><canvas width = "64" height="64" id="White"name="38"onmouseover="showName(38)"></td>
	<td><canvas width = "64" height="64" id="Black"name="39"onmouseover="showName(39)"></td>
  </tr>
    <tr>
	<td><canvas width = "64" height="64" id="Black"name="40"onmouseover="showName(40)"></td>
	<td><canvas width = "64" height="64" id="White"name="41"onmouseover="showName(41)"></td>
    <td><canvas width = "64" height="64" id="Black"name="42"onmouseover="showName(42)"></td>
	<td><canvas width = "64" height="64" id="White"name="43"onmouseover="showName(43)"></td>
	<td><canvas width = "64" height="64" id="Black"name="44"onmouseover="showName(44)"></td>
	<td><canvas width = "64" height="64" id="White"name="45"onmouseover="showName(45)"></td>
    <td><canvas width = "64" height="64" id="Black"name="46"onmouseover="showName(46)"></td>
	<td><canvas width = "64" height="64" id="White"name="47"onmouseover="showName(47)"></td>
	<td><canvas width = "64" height="64" id="Black"name="48"onmouseover="showName(48)"></td>
	<td><canvas width = "64" height="64" id="White"name="49"onmouseover="showName(49)"></td>
  </tr>
    <tr>
    <td><canvas width = "64" height="64" id="White"name="50"onmouseover="showName(50)"></td>
	<td><canvas width = "64" height="64" id="Black"name="51"onmouseover="showName(51)"></td>
    <td><canvas width = "64" height="64" id="White"name="52"onmouseover="showName(52)"></td>
	<td><canvas width = "64" height="64" id="Black"name="53"onmouseover="showName(53)"></td>
	<td><canvas width = "64" height="64" id="White"name="54"onmouseover="showName(54)"></td>
	<td><canvas width = "64" height="64" id="Black"name="55"onmouseover="showName(55)"></td>
    <td><canvas width = "64" height="64" id="White"name="56"onmouseover="showName(56)"></td>
	<td><canvas width = "64" height="64" id="Black"name="57"onmouseover="showName(57)"></td>
	<td><canvas width = "64" height="64" id="White"name="58"onmouseover="showName(58)"></td>
	<td><canvas width = "64" height="64" id="Black"name="59"onmouseover="showName(59)"></td>
  </tr>
    <tr>
	<td><canvas width = "64" height="64" id="Black"name="60"onmouseover="showName(60)"></td>
	<td><canvas width = "64" height="64" id="White"name="61"onmouseover="showName(61)"></td>
    <td><canvas width = "64" height="64" id="Black"name="62"onmouseover="showName(62)"></td>
	<td><canvas width = "64" height="64" id="White"name="63"onmouseover="showName(63)"></td>
	<td><canvas width = "64" height="64" id="Black"name="64"onmouseover="showName(64)"></td>
	<td><canvas width = "64" height="64" id="White"name="65"onmouseover="showName(65)"></td>
    <td><canvas width = "64" height="64" id="Black"name="66"onmouseover="showName(66)"></td>
	<td><canvas width = "64" height="64" id="White"name="67"onmouseover="showName(67)"></td>
	<td><canvas width = "64" height="64" id="Black"name="68"onmouseover="showName(68)"></td>
	<td><canvas width = "64" height="64" id="White"name="69"onmouseover="showName(69)"></td>
  </tr>
    <tr>
    <td><canvas width = "64" height="64" id="White"name="70"onmouseover="showName(70)"></td>
	<td><canvas width = "64" height="64" id="Black"name="71"onmouseover="showName(71)"></td>
    <td><canvas width = "64" height="64" id="White"name="72"onmouseover="showName(72)"></td>
	<td><canvas width = "64" height="64" id="Black"name="73"onmouseover="showName(73)"></td>
	<td><canvas width = "64" height="64" id="White"name="74"onmouseover="showName(74)"></td>
	<td><canvas width = "64" height="64" id="Black"name="75"onmouseover="showName(75)"></td>
    <td><canvas width = "64" height="64" id="White"name="76"onmouseover="showName(76)"></td>
	<td><canvas width = "64" height="64" id="Black"name="77"onmouseover="showName(77)"></td>
	<td><canvas width = "64" height="64" id="White"name="78"onmouseover="showName(78)"></td>
	<td><canvas width = "64" height="64" id="Black"name="79"onmouseover="showName(79)"></td>
  </tr>
    <tr>
	<td><canvas width = "64" height="64" id="Black"name="80"onmouseover="showName(80)"></td>
	<td><canvas width = "64" height="64" id="White"name="81"onmouseover="showName(81)"></td>
    <td><canvas width = "64" height="64" id="Black"name="82"onmouseover="showName(82)"></td>
	<td><canvas width = "64" height="64" id="White"name="83"onmouseover="showName(83)"></td>
	<td><canvas width = "64" height="64" id="Black"name="84"onmouseover="showName(84)"></td>
	<td><canvas width = "64" height="64" id="White"name="85"onmouseover="showName(85)"></td>
    <td><canvas width = "64" height="64" id="Black"name="86"onmouseover="showName(86)"></td>
	<td><canvas width = "64" height="64" id="White"name="87"onmouseover="showName(87)"></td>
	<td><canvas width = "64" height="64" id="Black"name="88"onmouseover="showName(88)"></td>
	<td><canvas width = "64" height="64" id="White"name="89"onmouseover="showName(89)"></td>
  </tr>
    <tr>
    <td><canvas width = "64" height="64" id="White"name="90"onmouseover="showName(90)"></td>
	<td><canvas width = "64" height="64" id="Black"name="91"onmouseover="showName(91)"></td>
    <td><canvas width = "64" height="64" id="White"name="92"onmouseover="showName(92)"></td>
	<td><canvas width = "64" height="64" id="Black"name="93"onmouseover="showName(93)"></td>
	<td><canvas width = "64" height="64" id="White"name="94"onmouseover="showName(94)"></td>
	<td><canvas width = "64" height="64" id="Black"name="95"onmouseover="showName(95)"></td>
    <td><canvas width = "64" height="64" id="White"name="96"onmouseover="showName(96)"></td>
	<td><canvas width = "64" height="64" id="Black"name="97"onmouseover="showName(97)"></td>
	<td><canvas width = "64" height="64" id="White"name="98"onmouseover="showName(98)"></td>
	<td><canvas width = "64" height="64" id="Black"name="99"onmouseover="showName(99)"></td>
  </tr>
  </table>
  Square
  <input type="text" id="square" readonly>
  <br>
  <input type="button" value="Roll Dice" onclick="turn()">
  <script>
  
	// global variables 
	var square,i,j;
	var canvas,context;
	var portalStartPosition,portalEndPosition;
	var portalPositions = new Array();
	var numPlayers=2;
	var players = new Array();
	var player=null,playerMoveBy=0;
	var playerMoveBys = new Array();
	var messages="",portal;
	var portals= new Array();
	
	// global constants 
	const PORTALCOLORS =["orange","red","yellow","green","purple","pink","blue","brown","grey","magenta","cyan"];
	const PLAYERCOLORS = ["red","blue","yellow","green","orange","purple"];
	
	const squareBox = document.getElementById("square");
	
	// class creates new players 
	class Player {
		constructor(square){
			this._square=square;
		
		}
		get square() {
			return this._square;
		}
		set square(newSquare) {
			this._square = newSquare;
		}
	}
	
	// class creates new portals
	class Portal {
		constructor(startSquare,endSquare){
			this._startSquare=startSquare;
			this._endSquare=endSquare;
		}
		get startSquare() {
			return this._startSquare;
		}
		set startSquare(newSquare) {
			this._startSquare = newSquare;
		}
		get endSquare() {
			return this._endSquare;
		}
		set endSquare(newSquare) {
			this._endSquare = newSquare;
		}
	}
	
	// start game
	startGame();
	
	// simulate one round of the game 
	function turn(){
	
		roll();
		updateBoard();
		victory();
		
	}
	
	function showName(square){
		
		squareBox.value=square.toString();
	
	}
	
	function is_in(element,array){
		
		for (i=0;i<=array.length-1;i++){
			if (array[i]==element){
				return true;
			}
		
		}
		return false;
	
	}
	
	// create player checkers
	function setPlayers(){
	
		numPlayers = parseInt(prompt("You can only choose 2-6 players "+'\n'+" How many players do you want?"));
		
		// if input is of wrong type set default value
		if (isNaN(numPlayers)){
			numPlayers = 6;
		}
		
		// validate user input 
		while (numPlayers < 2 || numPlayers > 6){
			numPlayers = parseInt(prompt("You can only choose 2-6 players "+'\n'+" How many players do you want?"));
		
		}
		
		// create new players from Player class 
		players=[];
		for (i=0;i<=numPlayers-1;i++){
		
			player = new Player(0);
			players.push(player);
			playerMoveBys.push(0);
		
		}
		
	}
	// set random locations for portals 
	function setPortals(){
		
		portals = [];
		portalPositions=[];
		
		
		// there are 11 total portals 
		while(portals.length < 11 ){
			
			// choose the start and end locations for each portal 
			portalStartPosition = Math.floor((Math.random() * 98)+1 );
			portalEndPosition = Math.floor((Math.random() * 98)+1 );
			
			// make sure portal start and end locations are not already chosen
			while (is_in(portalStartPosition,portalPositions) || is_in(portalEndPosition,portalPositions)){
			
				portalStartPosition = Math.floor((Math.random() * 98)+1 );
				portalEndPosition = Math.floor((Math.random() * 98)+1 );
				
			}
			
			// create new portal 
			portal = new Portal(portalStartPosition,portalEndPosition);
			portals.push(portal);
			
			portalPositions.push(portalStartPosition);
			portalPositions.push(portalEndPosition);
			
	
		}
	
	}
	
	// draw game board 
	function updateBoard(){
		
		for(square=0;square<=99;square++){
		
			canvas= document.getElementsByName(square.toString())[0];
			context=canvas.getContext('2d');
			
			if(canvas.id=="Black"){
				context.fillStyle="black";
				
			
			}
			else if(canvas.id=="White"){
				context.fillStyle="white";
				
			
			}
			
			context.fillRect(0,0,canvas.width,canvas.height);
			
		}
	
		// move players 
		
		for(i=0;i<=players.length-1;i++){
			players[i].square += parseInt(playerMoveBys[i]);
			
		}
		
		playerMoveBys=[];
		
		//make sure players do not move off the screen 
		for(i=0;i<=players.length-1;i++){
		
			if(players[i].square > 99){
				players[i].square=parseInt(99-(players[i].square-99));
			}
		}
		
		
		//check if player has moved onto a portal
		for(i=0;i<=players.length-1;i++){
			for(j=0;j<=10;j++){
		
				if(players[i].square == portals[j].startSquare){
					players[i].square=portals[j].endSquare;
				}
				else if(players[i].square == portals[j].endSquare){
					players[i].square=portals[j].startSquare;
				}
			}
		}
		
		
		
		// tell players what squares they are currently at 
		for(i=0;i<=players.length-1;i++){
		
			messages+="Player "+(i+1).toString()+" is now at square "+(players[i].square).toString()+'\n'
			
		}
		
		// draw players 
		for(i=0;i<=players.length-1;i++){
			
			canvas = document.getElementsByName((players[i].square).toString())[0];
			context = canvas.getContext('2d');
			context.fillStyle = PLAYERCOLORS[i];
			context.fillRect(0,0,canvas.width,canvas.height);
		}
		

		// draw portals 
		for(i=0;i<=10;i++){
			
			drawPortal(portals[i].startSquare,PORTALCOLORS[i]);
			drawPortal(portals[i].endSquare,PORTALCOLORS[i]);
		}
		alert(messages);
		messages="";
	}
	
	function roll(){
		
		// roll the die 
		
		for(i=0;i<=players.length-1;i++){
			
			playerMoveBy = Math.floor((Math.random() * 6)+1 );
			playerMoveBys.push(playerMoveBy);
			messages+="Player " +(i+1).toString()+" rolled a "+playerMoveBy.toString()+'\n';
			
		}
		
		alert(messages);
		messages="";
	}
	
	function drawPortal(square,color){
		
		// drawing portal process 
		canvas=document.getElementsByName(square.toString())[0];
		context=canvas.getContext('2d');
		context.fillStyle=color;
		
		context.beginPath();
		context.arc(32, 32, 32, 0, 2 * Math.PI);
		context.stroke();
		context.fill();
		context.closePath();
		
	}
	function startGame(){
		
		// restart game
		setPlayers();
		setPortals();
		updateBoard();
		
	}
	function victory(){
	
		// win condition
		for(i=0;i<=players.length-1;i++){
			
			if (players[i].square == 99){
				alert("Player "+(i+1).toString()+" wins");
				startGame();
				
			}
		}
	}
	
  </script>
  </body>
</html>